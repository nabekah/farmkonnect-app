{
  "query": "\n-- Create livestock_health_records table\nCREATE TABLE IF NOT EXISTS livestock_health_records (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  animalId INT NOT NULL,\n  recordDate DATETIME DEFAULT CURRENT_TIMESTAMP,\n  recordType VARCHAR(50) NOT NULL,\n  description TEXT,\n  veterinarian VARCHAR(255),\n  appointmentId INT,\n  prescriptionId INT,\n  status VARCHAR(50) DEFAULT 'active',\n  notes TEXT,\n  createdAt DATETIME DEFAULT CURRENT_TIMESTAMP,\n  updatedAt DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- Create vaccination_schedules table\nCREATE TABLE IF NOT EXISTS vaccination_schedules (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  animalId INT NOT NULL,\n  vaccinationType VARCHAR(255) NOT NULL,\n  vaccineName VARCHAR(255),\n  dueDate DATE NOT NULL,\n  completedDate DATE,\n  veterinarian VARCHAR(255),\n  status VARCHAR(50) DEFAULT 'pending',\n  notes TEXT,\n  createdAt DATETIME DEFAULT CURRENT_TIMESTAMP,\n  updatedAt DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- Create health_metrics table\nCREATE TABLE IF NOT EXISTS health_metrics (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  animalId INT NOT NULL,\n  recordDate DATETIME DEFAULT CURRENT_TIMESTAMP,\n  weight DECIMAL(10, 2),\n  temperature DECIMAL(5, 2),\n  heartRate INT,\n  respiratoryRate INT,\n  bodyConditionScore DECIMAL(3, 1),\n  notes TEXT,\n  recordedBy VARCHAR(255),\n  createdAt DATETIME DEFAULT CURRENT_TIMESTAMP,\n  updatedAt DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- Create disease_incidents table\nCREATE TABLE IF NOT EXISTS disease_incidents (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  animalId INT NOT NULL,\n  incidentDate DATETIME DEFAULT CURRENT_TIMESTAMP,\n  diseaseType VARCHAR(255) NOT NULL,\n  symptoms TEXT,\n  severity VARCHAR(50),\n  treatment TEXT,\n  veterinarian VARCHAR(255),\n  status VARCHAR(50) DEFAULT 'active',\n  recoveryDate DATE,\n  notes TEXT,\n  createdAt DATETIME DEFAULT CURRENT_TIMESTAMP,\n  updatedAt DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- Create telemedicine_sessions table\nCREATE TABLE IF NOT EXISTS telemedicine_sessions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  appointmentId INT NOT NULL,\n  sessionType VARCHAR(50) NOT NULL,\n  videoProvider VARCHAR(50),\n  meetingLink VARCHAR(500),\n  meetingId VARCHAR(255),\n  startTime DATETIME,\n  endTime DATETIME,\n  duration INT,\n  status VARCHAR(50) DEFAULT 'scheduled',\n  recordingUrl VARCHAR(500),\n  notes TEXT,\n  createdAt DATETIME DEFAULT CURRENT_TIMESTAMP,\n  updatedAt DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- Create prescription_compliance table\nCREATE TABLE IF NOT EXISTS prescription_compliance (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  prescriptionId INT NOT NULL,\n  complianceDate DATE NOT NULL,\n  dosesGiven INT,\n  dosesScheduled INT,\n  compliancePercentage DECIMAL(5, 2),\n  photoUrl VARCHAR(500),\n  videoUrl VARCHAR(500),\n  notes TEXT,\n  recordedBy VARCHAR(255),\n  createdAt DATETIME DEFAULT CURRENT_TIMESTAMP,\n  updatedAt DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- Create compliance_evidence table\nCREATE TABLE IF NOT EXISTS compliance_evidence (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  complianceId INT NOT NULL,\n  evidenceType VARCHAR(50),\n  fileUrl VARCHAR(500),\n  fileType VARCHAR(50),\n  uploadedAt DATETIME DEFAULT CURRENT_TIMESTAMP,\n  notes TEXT,\n  createdAt DATETIME DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Create indexes for better performance\nCREATE INDEX idx_animal_health ON livestock_health_records(animalId);\nCREATE INDEX idx_animal_vaccination ON vaccination_schedules(animalId);\nCREATE INDEX idx_animal_metrics ON health_metrics(animalId);\nCREATE INDEX idx_animal_disease ON disease_incidents(animalId);\nCREATE INDEX idx_appointment_telemedicine ON telemedicine_sessions(appointmentId);\nCREATE INDEX idx_prescription_compliance ON prescription_compliance(prescriptionId);\nCREATE INDEX idx_compliance_evidence ON compliance_evidence(complianceId);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2kNF22PapS9mysw.root --database WZQk4bD8DnsRHwYBkmh7FN --execute \n-- Create livestock_health_records table\nCREATE TABLE IF NOT EXISTS livestock_health_records (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  animalId INT NOT NULL,\n  recordDate DATETIME DEFAULT CURRENT_TIMESTAMP,\n  recordType VARCHAR(50) NOT NULL,\n  description TEXT,\n  veterinarian VARCHAR(255),\n  appointmentId INT,\n  prescriptionId INT,\n  status VARCHAR(50) DEFAULT 'active',\n  notes TEXT,\n  createdAt DATETIME DEFAULT CURRENT_TIMESTAMP,\n  updatedAt DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- Create vaccination_schedules table\nCREATE TABLE IF NOT EXISTS vaccination_schedules (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  animalId INT NOT NULL,\n  vaccinationType VARCHAR(255) NOT NULL,\n  vaccineName VARCHAR(255),\n  dueDate DATE NOT NULL,\n  completedDate DATE,\n  veterinarian VARCHAR(255),\n  status VARCHAR(50) DEFAULT 'pending',\n  notes TEXT,\n  createdAt DATETIME DEFAULT CURRENT_TIMESTAMP,\n  updatedAt DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- Create health_metrics table\nCREATE TABLE IF NOT EXISTS health_metrics (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  animalId INT NOT NULL,\n  recordDate DATETIME DEFAULT CURRENT_TIMESTAMP,\n  weight DECIMAL(10, 2),\n  temperature DECIMAL(5, 2),\n  heartRate INT,\n  respiratoryRate INT,\n  bodyConditionScore DECIMAL(3, 1),\n  notes TEXT,\n  recordedBy VARCHAR(255),\n  createdAt DATETIME DEFAULT CURRENT_TIMESTAMP,\n  updatedAt DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- Create disease_incidents table\nCREATE TABLE IF NOT EXISTS disease_incidents (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  animalId INT NOT NULL,\n  incidentDate DATETIME DEFAULT CURRENT_TIMESTAMP,\n  diseaseType VARCHAR(255) NOT NULL,\n  symptoms TEXT,\n  severity VARCHAR(50),\n  treatment TEXT,\n  veterinarian VARCHAR(255),\n  status VARCHAR(50) DEFAULT 'active',\n  recoveryDate DATE,\n  notes TEXT,\n  createdAt DATETIME DEFAULT CURRENT_TIMESTAMP,\n  updatedAt DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- Create telemedicine_sessions table\nCREATE TABLE IF NOT EXISTS telemedicine_sessions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  appointmentId INT NOT NULL,\n  sessionType VARCHAR(50) NOT NULL,\n  videoProvider VARCHAR(50),\n  meetingLink VARCHAR(500),\n  meetingId VARCHAR(255),\n  startTime DATETIME,\n  endTime DATETIME,\n  duration INT,\n  status VARCHAR(50) DEFAULT 'scheduled',\n  recordingUrl VARCHAR(500),\n  notes TEXT,\n  createdAt DATETIME DEFAULT CURRENT_TIMESTAMP,\n  updatedAt DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- Create prescription_compliance table\nCREATE TABLE IF NOT EXISTS prescription_compliance (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  prescriptionId INT NOT NULL,\n  complianceDate DATE NOT NULL,\n  dosesGiven INT,\n  dosesScheduled INT,\n  compliancePercentage DECIMAL(5, 2),\n  photoUrl VARCHAR(500),\n  videoUrl VARCHAR(500),\n  notes TEXT,\n  recordedBy VARCHAR(255),\n  createdAt DATETIME DEFAULT CURRENT_TIMESTAMP,\n  updatedAt DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- Create compliance_evidence table\nCREATE TABLE IF NOT EXISTS compliance_evidence (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  complianceId INT NOT NULL,\n  evidenceType VARCHAR(50),\n  fileUrl VARCHAR(500),\n  fileType VARCHAR(50),\n  uploadedAt DATETIME DEFAULT CURRENT_TIMESTAMP,\n  notes TEXT,\n  createdAt DATETIME DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Create indexes for better performance\nCREATE INDEX idx_animal_health ON livestock_health_records(animalId);\nCREATE INDEX idx_animal_vaccination ON vaccination_schedules(animalId);\nCREATE INDEX idx_animal_metrics ON health_metrics(animalId);\nCREATE INDEX idx_animal_disease ON disease_incidents(animalId);\nCREATE INDEX idx_appointment_telemedicine ON telemedicine_sessions(appointmentId);\nCREATE INDEX idx_prescription_compliance ON prescription_compliance(prescriptionId);\nCREATE INDEX idx_compliance_evidence ON compliance_evidence(complianceId);\n",
  "returncode": 1,
  "logs": [
    "ERROR 1072 (42000) at line 117: column does not exist: appointmentId"
  ]
}